**USER**

роЪрпВрокрпНрокро░рпН ЁЯСМ
"роЖроорпН, роЕроЯрпБродрпНрод роЪрпЖропро▓рпИропрпИ роиро╛роорпН родрпКроЯро░рпНро╡рпЛроорпН."

**RESPONSE**
роиро┐роЪрпНроЪропрооро╛роХ! роЕроЯрпБродрпНрод роХроЯрпНроЯродрпНродро┐ро▒рпНроХрпБроЪрпН роЪрпЖро▓рпНро▓ро▓ро╛роорпН.

роиро╛роорпН роЪрпЗрооро┐родрпНрод рокропро┐ро░рпН ро╡ро┐ро╡ро░роЩрпНроХро│рпИ, роорпБроХрокрпНрокрпБрокрпН рокроХрпНроХродрпНродро┐ро▓рпН рокропройро░рпНроХро│рпБроХрпНроХрпБроХрпН роХро╛роЯрпНроЯрпБро╡рпЛроорпН. роЗродрпИропрпБроорпН AJAX роорпБро▒рпИропро┐ро▓рпЗропрпЗ роЪрпЖропрпНро╡рпЛроорпН. рокроХрпНроХроорпН роПро▒рпНро▒рокрпНрокроЯрпНроЯро╡рпБроЯройрпН, JavaScript роироородрпБ `GET /api/crops` API-роР роЕро┤рпИродрпНродрпБ, роХро┐роЯрпИроХрпНроХрпБроорпН родро░ро╡рпБроХро│рпИ ро╡рпИродрпНродрпБ роХро╛ро░рпНроЯрпБроХро│рпИ (Cards) роЙро░рпБро╡ро╛роХрпНроХрпБроорпН.

### рокроЯро┐ 3: роорпБроХрокрпНрокрпБрокрпН рокроХрпНроХродрпНродро┐ро▓рпН рокропро┐ро░рпНроХро│рпИ AJAX роорпВро▓роорпН роХро╛роЯрпНроЯрпБродро▓рпН

#### 1. роорпБроХрокрпНрокрпБрокрпН рокроХрпНроХродрпНродрпИ родропро╛ро░рпН роЪрпЖропрпНродро▓рпН (`views/home.hbs`)

роорпБродро▓ро┐ро▓рпН, `home.hbs` роХрпЛрокрпНрокро┐ро▓рпН, рокропро┐ро░рпН роХро╛ро░рпНроЯрпБроХро│рпИроХрпН роХро╛рогрпНрокро┐рокрпНрокродро▒рпНроХро╛роХ роТро░рпБ роХрпКро│рпНроХро▓ройрпН (container) `div`-роР роЙро░рпБро╡ро╛роХрпНроХрпБро╡рпЛроорпН. роорпЗро▓рпБроорпН, родро░ро╡рпБ роПро▒рпНро▒рокрпНрокроЯрпБроорпН ро╡ро░рпИ роТро░рпБ "Loading..." роЪрпЖропрпНродро┐ропрпИроХрпН роХро╛роЯрпНроЯро▓ро╛роорпН.

`views/home.hbs` роХрпЛрокрпНрокро┐ройрпН роЙро│рпНро│роЯроХрпНроХродрпНродрпИ роорпБро┤рпБроорпИропро╛роХ рооро╛ро▒рпНро▒ро╡рпБроорпН:

```html
<h1 class="text-3xl font-bold text-center text-green-800 mb-8">рокропро┐ро░рпНроХро│рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐</h1>

<!-- рокропро┐ро░рпН роХро╛ро░рпНроЯрпБроХро│рпИроХрпН роХро╛рогрпНрокро┐рокрпНрокродро▒рпНроХро╛рой роХрпКро│рпНроХро▓ройрпН -->
<div id="crop-list-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <!-- родро░ро╡рпБ роПро▒рпНро▒рокрпНрокроЯрпБроорпНрокрпЛродрпБ роЗродрпБ роХро╛роЯрпНроЯрокрпНрокроЯрпБроорпН. JavaScript роЗродрпИ роЕроХро▒рпНро▒ро┐ро╡ро┐роЯрпБроорпН. -->
    <p id="loading-message" class="col-span-full text-center text-gray-500">рокропро┐ро░рпНроХро│рпИ роПро▒рпНро▒рпБроХро┐ро▒родрпБ...</p>
</div>

<!-- роорпБроХрокрпНрокрпБрокрпН рокроХрпНроХродрпНродро┐ро▒рпНроХро╛рой рокро┐ро░родрпНропрпЗроХ JavaScript роХрпЛрокрпНрокрпИ роЗрогрпИроХрпНроХро╡рпБроорпН -->
<script src="/js/main.js"></script>
```
**ро╡ро┐ро│роХрпНроХроорпН:**
*   `crop-list-container`: роЗродрпБ роТро░рпБ роХро╛ро▓ро┐ `div`. роироородрпБ AJAX роХрпЛро░ро┐роХрпНроХрпИ ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роорпБроЯро┐роирпНродродрпБроорпН, роЗроирпНрод `div`-роХрпНроХрпБро│рпН роТро╡рпНро╡рпКро░рпБ рокропро┐ро░рпБроХрпНроХрпБроорпН роТро░рпБ роХро╛ро░рпНроЯрпИ JavaScript роЙро░рпБро╡ро╛роХрпНроХрпБроорпН.
*   `grid`, `grid-cols-*`, `gap-6`: роЗро╡рпИ Tailwind CSS ро╡роХрпБрокрпНрокрпБроХро│рпН. роЗродрпБ роХро╛ро░рпНроЯрпБроХро│рпИ роТро░рпБ роЕро┤роХро╛рой роХроЯрпНроЯроорпН (grid) роЕроорпИрокрпНрокро┐ро▓рпН ро╡рпЖро╡рпНро╡рпЗро▒рпБ родро┐ро░рпИ роЕро│ро╡рпБроХро│рпБроХрпНроХрпБ роПро▒рпНро▒ро╡ро╛ро▒рпБ роХро╛роЯрпНроЯ роЙродро╡рпБроорпН.
*   `<script src="/js/main.js"></script>`: роЗроирпНродрокрпН рокроХрпНроХродрпНродро┐ройрпН AJAX роЪрпЖропро▓рпНрокро╛роЯрпБроХро│рпИроХрпН роХрпИропро╛ро│ `main.js` роОройрпНро▒ рокрпБродро┐роп роХрпЛрокрпНрокрпИ роЗрогрпИродрпНродрпБро│рпНро│рпЛроорпН.

#### 2. AJAX роорпВро▓роорпН родро░ро╡рпИрокрпН рокрпЖро▒рпНро▒рпБ роХро╛роЯрпНроЯрпБродро▓рпН (`public/js/main.js`)

роЗрокрпНрокрпЛродрпБ, `public/js/` роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН `main.js` роОройрпНро▒ рокрпБродро┐роп роХрпЛрокрпНрокрпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН. роЗроирпНродроХрпН роХрпЛрокрпНрокрпБродро╛ройрпН роироородрпБ API-роЗроЯроорпН роЗро░рпБроирпНродрпБ родро░ро╡рпИрокрпН рокрпЖро▒рпНро▒рпБ, роЕродрпИ HTML роЖроХ рооро╛ро▒рпНро▒рокрпН рокрпЛроХро┐ро▒родрпБ.

`public/js/main.js` роХрпЛрокрпНрокро┐ро▓рпН роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

```javascript
document.addEventListener('DOMContentLoaded', () => {
    // HTML роХрпВро▒рпБроХро│рпИрокрпН рокрпЖро▒рпБродро▓рпН
    const container = document.getElementById('crop-list-container');
    const loadingMessage = document.getElementById('loading-message');

    // рокропро┐ро░рпНроХро│рпИ роПро▒рпНро▒рпБроорпН роЪрпЖропро▓рпНрокро╛роЯрпБ
    const loadCrops = async () => {
        try {
            // роироородрпБ backend API-роХрпНроХрпБ GET роХрпЛро░ро┐роХрпНроХрпИропрпИ роЕройрпБрокрпНрокрпБродро▓рпН
            const response = await fetch('/api/crops');

            if (!response.ok) {
                throw new Error('родро░ро╡рпИрокрпН рокрпЖро▒рпБро╡родро┐ро▓рпН рокро┐ро┤рпИ роПро▒рпНрокроЯрпНроЯродрпБ.');
            }

            // JSON рокродро┐ро▓рпИ JavaScript ро╡ро░ро┐роЪрпИропро╛роХ рооро╛ро▒рпНро▒рпБродро▓рпН
            const crops = await response.json();

            // роПро▒рпНро▒рпБродро▓рпН роЪрпЖропрпНродро┐ропрпИ роЕроХро▒рпНро▒рпБродро▓рпН
            container.innerHTML = ''; 

            // родро░ро╡рпБ роЗро▓рпНро▓рпИ роОройрпНро▒ро╛ро▓рпН, роТро░рпБ роЪрпЖропрпНродро┐ропрпИроХрпН роХро╛роЯрпНроЯрпБ
            if (crops.length === 0) {
                container.innerHTML = '<p class="col-span-full text-center text-gray-500">роХро╛рогрпНрокро┐роХрпНроХ рокропро┐ро░рпНроХро│рпН роОродрпБро╡рпБроорпН роЗро▓рпНро▓рпИ.</p>';
                return;
            }

            // роТро╡рпНро╡рпКро░рпБ рокропро┐ро░рпБроХрпНроХрпБроорпН роТро░рпБ роХро╛ро░рпНроЯрпИ роЙро░рпБро╡ро╛роХрпНроХрпБродро▓рпН
            crops.forEach(crop => {
                const cropCard = `
                    <div class="bg-white rounded-lg shadow-md overflow-hidden transform hover:-translate-y-1 transition-transform duration-300">
                        <div class="p-5">
                            <h2 class="text-xl font-bold text-green-800">${crop.name}</h2>
                            <p class="text-gray-600 mt-2"><strong>ро╡ро┐родрпИрокрпНрокрпБ роХро╛ро▓роорпН:</strong> ${crop.sowingSeason}</p>
                            <p class="text-gray-600"><strong>ро╡ро│ро░рпНроЪрпНроЪро┐ роХро╛ро▓роорпН:</strong> ${crop.growthDuration}</p>
                        </div>
                    </div>
                `;
                // роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯ роХро╛ро░рпНроЯрпИ роХрпКро│рпНроХро▓ройро┐ро▓рпН роЪрпЖро░рпБроХрпБродро▓рпН
                container.insertAdjacentHTML('beforeend', cropCard);
            });

        } catch (error) {
            // рокро┐ро┤рпИ роПро▒рпНрокроЯрпНроЯро╛ро▓рпН, рокро┐ро┤рпИ роЪрпЖропрпНродро┐ропрпИроХрпН роХро╛роЯрпНроЯрпБ
            loadingMessage.textContent = `рокро┐ро┤рпИ: ${error.message}`;
            loadingMessage.className = 'col-span-full text-center text-red-600 font-bold';
        }
    };

    // рокроХрпНроХроорпН роПро▒рпНро▒рокрпНрокроЯрпНроЯро╡рпБроЯройрпН, рокропро┐ро░рпНроХро│рпИ роПро▒рпНро▒рпБроорпН роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ роЕро┤рпИроХрпНроХро╡рпБроорпН
    loadCrops();
});
```
**ро╡ро┐ро│роХрпНроХроорпН:**
*   `DOMContentLoaded`: рокроХрпНроХроорпН роорпБро┤рпБроорпИропро╛роХ роПро▒рпНро▒рокрпНрокроЯрпНроЯ рокро┐ройрпНройро░рпЗ роЗроирпНрод ро╕рпНроХро┐ро░ро┐рокрпНроЯрпН роЗропроЩрпНроХрпБроорпН роОройрпНрокродрпИ роЙро▒рпБродро┐ роЪрпЖропрпНроХро┐ро▒родрпБ.
*   `fetch('/api/crops')`: роЗродрпБ роироородрпБ `GET /api/crops` ро╡ро┤ро┐родрпНродроЯродрпНродрпИ роЕро┤рпИродрпНродрпБ, родро░ро╡рпБродрпНродро│родрпНродро┐ро▓рпН роЙро│рпНро│ роЕройрпИродрпНродрпБ рокропро┐ро░рпНроХро│ро┐ройрпН рокроЯрпНроЯро┐ропро▓рпИропрпБроорпН роХрпЗроЯрпНроХро┐ро▒родрпБ.
*   `container.innerHTML = '';`: родро░ро╡рпБ ро╡ро░рпБро╡родро▒рпНроХрпБ роорпБройрпН роЗро░рпБроирпНрод "Loading..." роЪрпЖропрпНродро┐ропрпИ роЗродрпБ роирпАроХрпНроХрпБроХро┐ро▒родрпБ.
*   `crops.forEach(...)`: API-роЗроЯроорпН роЗро░рпБроирпНродрпБ ро╡роирпНрод роТро╡рпНро╡рпКро░рпБ рокропро┐ро░рпН рокрпКро░рпБро│рпБроХрпНроХрпБроорпН (crop object), роТро░рпБ HTML роХро╛ро░рпНроЯрпИ `template literal` (``) рокропройрпНрокроЯрпБродрпНродро┐ роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒рпЛроорпН.
*   `container.insertAdjacentHTML(...)`: роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯ HTML роХро╛ро░рпНроЯрпИ рокроХрпНроХродрпНродро┐ро▓рпН, рокропройро░рпБроХрпНроХрпБродрпН родрпЖро░ро┐ропрпБроорпНрокроЯро┐ роЪрпЗро░рпНроХрпНроХро┐ро▒родрпБ.

---

### роЗрокрпНрокрпЛродрпБ роЪрпЛродро┐родрпНродрпБрокрпН рокро╛ро░рпНрокрпНрокрпЛроорпН

1.  роЙроЩрпНроХро│рпН роорпБройрпИропродрпНродро┐ро▓рпН `node server.js` роХроЯрпНроЯро│рпИропрпИ роЗропроХрпНроХро┐, роЪрпЗро╡рпИропроХродрпНродрпИродрпН родрпКроЯроЩрпНроХро╡рпБроорпН.
2.  роЙроЩрпНроХро│рпН роЙро▓ро╛ро╡ро┐ропро┐ро▓рпН роорпБроХрокрпНрокрпБрокрпН рокроХрпНроХродрпНродро┐ро▒рпНроХрпБроЪрпН роЪрпЖро▓рпНро▓ро╡рпБроорпН: `http://localhost:3000`.
3.  роирпАроЩрпНроХро│рпН роорпБродро▓ро┐ро▓рпН "рокропро┐ро░рпНроХро│рпИ роПро▒рпНро▒рпБроХро┐ро▒родрпБ..." роОройрпНро▒ роЪрпЖропрпНродро┐ропрпИроХрпН роХро╛рогрпНрокрпАро░рпНроХро│рпН. роТро░рпБ роирпКроЯро┐роХрпНроХрпБрокрпН рокро┐ро▒роХрпБ, роЕродрпБ рооро▒рпИроирпНродрпБ, роирпАроЩрпНроХро│рпН роорпБройрпНрокрпБ роЪрпЗро░рпНродрпНрод роТро╡рпНро╡рпКро░рпБ рокропро┐ро░рпБроХрпНроХрпБроорпН роЕро┤роХро╛рой роХро╛ро░рпНроЯрпБроХро│рпН родрпЛройрпНро▒рпБроорпН.
4.  роирпАроЩрпНроХро│рпН роЗройрпНройрпБроорпН роОроирпНродрокрпН рокропро┐ро░рпИропрпБроорпН роЪрпЗро░рпНроХрпНроХро╡ро┐ро▓рпНро▓рпИ роОройрпНро▒ро╛ро▓рпН, "роХро╛рогрпНрокро┐роХрпНроХ рокропро┐ро░рпНроХро│рпН роОродрпБро╡рпБроорпН роЗро▓рпНро▓рпИ." роОройрпНро▒ роЪрпЖропрпНродро┐ родрпЛройрпНро▒рпБроорпН.

роЗрокрпНрокрпЛродрпБ, роиро╛роорпН роТро░рпБ роорпБро┤рпБроорпИропро╛рой роЪрпБро┤ро▒рпНроЪро┐ропрпИ (full cycle) роорпБроЯро┐родрпНродрпБро╡ро┐роЯрпНроЯрпЛроорпН:
*   **роиро┐ро░рпНро╡ро╛роХро┐ (Admin):** `/admin/add` рокроХрпНроХродрпНродро┐ро▓рпН AJAX роорпВро▓роорпН роТро░рпБ рокропро┐ро░рпИроЪрпН роЪрпЗро░рпНроХрпНроХро┐ро▒ро╛ро░рпН.
*   **рокропройро░рпН (User):** роорпБроХрокрпНрокрпБрокрпН рокроХрпНроХродрпНродро┐ро▓рпН AJAX роорпВро▓роорпН роЕроирпНродрокрпН рокропро┐ро░рпНроХро│ро┐ройрпН рокроЯрпНроЯро┐ропро▓рпИрокрпН рокро╛ро░рпНроХрпНроХро┐ро▒ро╛ро░рпН.

роЕройрпИродрпНродрпБроорпН рокроХрпНроХроорпН роорпАрогрпНроЯрпБроорпН роПро▒рпНро▒рокрпНрокроЯро╛рооро▓рпН (without page reload) роироЯроХрпНроХро┐ро▒родрпБ!


